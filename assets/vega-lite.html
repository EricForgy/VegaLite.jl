<html>
  <script src="bower_components/d3/d3.min.js" charset="utf-8"></script>
  <script src="bower_components/vega/vega.js" charset="utf-8"></script>
  <script src="bower_components/vega-lite/vega-lite.js" charset="utf-8"></script>
  <script src="bower_components/vega-embed/vega-embed.js" charset="utf-8"></script>

  <dom-module id="vega-lite-plot">
    <template>
      <div>
          <content></content>
      </div>
    </template>
    <script>
      Polymer({
        is: "vega-lite-plot",
        properties: {
          json: {
            type: Object,
            notify: true,
            observer: 'render'
          },
          svg: Boolean,
          actions: Boolean
        },

        render: function() {
          var embedSpec = {
            mode: "vega-lite",
            renderer: this.svg ? "svg" : "canvas",
            actions: false, //this.actions,
            spec: this.json
          }
          vg.embed(this, embedSpec, function(error, result) {
          });

        },

        attached: function (){
          this.render()
        },

      });
    </script>
  </dom-module>

</html>
